#!/usr/bin/env bash
set -euo pipefail

launcher='rofi -dmenu -p Power'
confirm() {
  printf "Yes\nNo" | rofi -dmenu -p "$1" | grep -qi '^yes$'
}

choice="$(printf "ğŸšª Logout (Hyprland)\nâ¾ Suspend\nï€ Reboot\nâ» Power off\nâŒ Cancel" | eval "$launcher")" || exit 0

case "$choice" in
  "â» Power off")
    confirm "Power off?" && systemctl poweroff
    ;;
  "ï€ Reboot")
    confirm "Reboot?" && systemctl reboot
    ;;
  "ğŸ”’ Lock")
    confirm "Lock?" && hyprlock &
    ;;
  "ğŸšª Logout (Hyprland)")
    confirm "Exit Hyprland?" && hyprctl dispatch exit
    ;;
  *) exit 0 ;;
esac

